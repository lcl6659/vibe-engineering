{
  "permissions": {
    "allow": [
      "Bash(curl:*)",
      "Bash(git rev-parse:*)",
      "Bash(git commit --allow-empty -m \"$\\(cat <<''EOF''\nTrigger Railway redeploy for OAuth callback route\n\nRailroad deployment might be running stale code. Force redeploy.\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push)",
      "Bash(go build:*)",
      "Bash(go test:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nFix: Update router comments to trigger Railway rebuild\n\nTesting if Railway deployment is properly picking up route changes.\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nForce Railway cache bust to rebuild with latest router code\n\nRailway build cache is preventing the OAuth callback route from being included.\nAdded CACHEBUST arg to force fresh build.\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nForce complete Railway cache invalidation with timestamp\n\n- Changed cache IDs from v1 to v2\n- Added explicit RUN echo command with timestamp to break Docker layer cache\n- This should force Railway to rebuild from source code\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(for method in GET POST PUT DELETE PATCH)",
      "Bash(do echo \"=== Testing $method /api/v1/auth/google/callback ===\" curl -X $method \"https://vibe-engineering-playbook-production-f716.up.railway.app/api/v1/auth/google/callback\" -H \"Content-Type: application/json\" -d '{\"\"\"\"code\"\"\"\":\"\"\"\"test\"\"\"\"}' -w \"\\\\nStatus: %{http_code}\\\\n\" -s)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd version identifier to health check endpoint\n\nThis will help us verify which version Railway has deployed.\nVersion: 2026-01-12-v4-oauth-callback-included\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(jq -c . echo -e \"\\\\n2. POST /api/v1/auth/google/callback\" curl -s -X POST -H \"Content-Type: application/json\" -d '{\"\"\"\"code\"\"\"\":\"\"\"\"test\"\"\"\"}' \"https://vibe-engineering-playbook-production-f716.up.railway.app/api/v1/auth/google/callback\" echo -e \"\\\\n3. GET /api/v1/youtube/video\" curl -s \"https://vibe-engineering-playbook-production-f716.up.railway.app/api/v1/youtube/video?input=test\")",
      "Bash(jq -c . echo -e \"\\\\n4. POST /api/v1/videos/metadata\" curl -s -X POST -H \"Content-Type: application/json\" -d '{\"\"\"\"url\"\"\"\":\"\"\"\"test\"\"\"\"}' \"https://vibe-engineering-playbook-production-f716.up.railway.app/api/v1/videos/metadata\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfix: Force Railway rebuild with v4 cache to fix OAuth callback 404\n\nRailway appears to be serving an old cached version that doesn''t include\nthe POST /api/v1/auth/google/callback route. This commit:\n\n1. Updates cache ID from v3 to v4 to force complete rebuild\n2. Updates build timestamp to v4\n3. Updates health check version to v6-oauth-callback-fix for verification\n\nThe route exists in code \\(router.go:88\\) but deployed service returns 404.\nTesting shows GET /api/v1/auth/google/url works but POST callback doesn''t,\nconfirming it''s a stale deployment issue.\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push:*)",
      "Bash(git commit:*)"
    ]
  }
}
